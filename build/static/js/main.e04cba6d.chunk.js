(this["webpackJsonpfuck-found-fund"]=this["webpackJsonpfuck-found-fund"]||[]).push([[0],{38:function(e,t,a){e.exports=a(73)},43:function(e,t,a){},70:function(e,t){},71:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),r=a(31),s=a.n(r),c=(a(43),a(11)),o=a(13),l=a(18),C=a.n(l),u=a(36),m=a(32),F=a(33),h=a(34),d=a(37),f=a(35),S=a(14),v=a.n(S),R=a(12),p=a.n(R),Y=a(19),E=a.n(Y),Z=a(76),D=a(5),J=a(17),b=a.n(J);b.a.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),b.a.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)}));var T=b.a,M=["001679","320007","001102","001071","005963","161028","005827","161005","519712","008086","519674","000478","004069","001552","009329","003095","002510","519727","002656","007300","161725","001694","163406","001156","162605"],L={"001679":{FCCFE:6783.15,FCCCBDJ:1.8281,PLATFORM:"JD"},"001102":{FCCFE:4480.89,FCCCBDJ:3.353,PLATFORM:"TTJJ"},"001156":{FCCFE:6245.14,FCCCBDJ:2.6092,PLATFORM:"TTJJ"},"005969":{FCCFE:2470.65,FCCCBDJ:3.368,PLATFORM:"TTJJ"},"005827":{FCCFE:4123.13,FCCCBDJ:2.5643,PLATFORM:"TTJJ"},161005:{FCCFE:2292.53,FCCCBDJ:3.3564,PLATFORM:"TTJJ"},161725:{FCCFE:8634.08,FCCCBDJ:1.2779,PLATFORM:"MYCF"},163406:{FCCFE:4846.65,FCCCBDJ:2.0708,PLATFORM:"MYCF"},162605:{FCCFE:4332.47,FCCCBDJ:3.7411,PLATFORM:"MYCF"},"005911":{FCCFE:255.91,FCCCBDJ:3.9076,PLATFORM:"MYCF"},"003095":{FCCFE:3673.12,FCCCBDJ:3.2424,PLATFORM:"MYCF"},"001875":{FCCFE:1918.68,FCCCBDJ:2.9708,PLATFORM:"MYCF"},"001837":{FCCFE:565.83,FCCCBDJ:2.2595,PLATFORM:"MYCF"},"002656":{FCCFE:8837.84,FCCCBDJ:1.3428,PLATFORM:"MYCF"},"004069":{FCCFE:11483.29,FCCCBDJ:1.2423,PLATFORM:"MYCF"},"008086":{FCCFE:9340.87,FCCCBDJ:1.2414,PLATFORM:"MYCF"},"007300":{FCCFE:4441.96,FCCCBDJ:2.1547,PLATFORM:"MYCF"},"009329":{FCCFE:9479.02,FCCCBDJ:1.4136,PLATFORM:"MYCF"},519727:{FCCFE:3407.09,FCCCBDJ:2.2652,PLATFORM:"MYCF"}},w=v.a.uniq([].concat(Object(D.a)(Object.keys(L)),Object(D.a)(M)));function O(e){return T(Object(c.a)(Object(c.a)({},e),{},{baseURL:"https://fundmobapi.eastmoney.com/"})).then((function(e){var t=e.data;if(200===e.status)return t}))}function N(e,t){return e>0?i.a.createElement("span",{className:"income-rate positive-income"},"+",e,t):e<0?i.a.createElement("span",{className:"income-rate negative-income"},e,t):i.a.createElement("span",{className:"income-rate"},"0.00")}var k=function(e){var t=e.funds,a=e.onlyShowHave,n=e.showRate,r=e.updateFlag,s=e.sortList;return i.a.createElement("div",{className:"list-container"},i.a.createElement("div",{className:"list-content"},i.a.createElement("div",{className:"list-header"},i.a.createElement("p",null,i.a.createElement("span",{className:"income-rate",onClick:s.bind(this,null,"GSZZL")},"\u4eca\u65e5\u9884\u4f30\u6536\u76ca\u7387"),n?"":i.a.createElement("span",{className:"income-rate",onClick:s.bind(this,null,"JRGSSY")},"\u4eca\u65e5\u9884\u4f30\u6536\u76ca"),-1!==r?i.a.createElement("span",{className:"income-rate",onClick:s.bind(this,null,"JRQRSYL")},"\u4eca\u65e5\u786e\u8ba4\u6536\u76ca\u7387"):"",-1===r||n?"":i.a.createElement("span",{className:"income-rate",onClick:s.bind(this,null,"JRQRSY")},"\u4eca\u65e5\u786e\u8ba4\u6536\u76ca"),i.a.createElement("span",{className:"income-rate",onClick:s.bind(this,null,"CCSYL")},"\u6301\u4ed3\u6536\u76ca\u7387"),n?"":i.a.createElement("span",{className:"income-rate",onClick:s.bind(this,null,"CCSY")},"\u6301\u4ed3\u6536\u76ca"))),t.filter((function(e){return!a||e.isHave})).map((function(e){return i.a.createElement("div",{className:"",key:e.FCODE},i.a.createElement("p",null,N(e.GSZZL,"%"),n?"":N(e.JRGSSY),-1!==r?N(e.JRQRSYL,"%"):"",-1===r||n?"":N(e.JRQRSY),N(e.CCSYL,"%"),n?"":N(e.CCSY),i.a.createElement("span",{className:"fund-name"},i.a.createElement("label",{className:"have-tag"},e.isHave?"\u6301\u6709":""),e.SHORTNAME,"(",e.FCODE,")")))}))))},g="".concat(p()().format("YYYY-MM-DD")," 9:00:01"),y="".concat(p()().format("YYYY-MM-DD")," 15:00:01");function B(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Z.a(e,t)}var A=function(e){window.consoleInfo=function(){console.log("\u6301\u4ed3\u603b\u6210\u672c\uff1a",e.CCZCB),console.log("\u9884\u4f30\u603b\u5e02\u503c\uff1a",e.YGZSZ)}};function P(e,t,a){if(t){var n=B(e/a*100);return"".concat(n,"%")}return e}var G=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(F.a)(this,a),(n=t.call(this,e)).state={showDetail:!1,onlyShowHave:!0,updateFlag:-1,refreshTime:"",fundData:[],funListData:[],showRate:!0},n}return Object(h.a)(a,[{key:"getFundListData",value:function(){var e=Object(m.a)(C.a.mark((function e(){var t,a,n,i,r,s,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=p()().format("YYYY-MM-DD HH:mm:ss"),a=p()(t).isAfter(y)||p()(g).isAfter(t),!this.timer||!a){e.next=5;break}return this.clearTimer(),e.abrupt("return");case 5:return e.next=7,O({url:"/FundMNewApi/FundMNFInfo",params:{pageIndex:1,pageSize:999,appType:"ttyy",product:"EFund",plat:"Android",deviceid:"9e16077fca2fcr78ep0ltn98",Version:1,Fcodes:void 0||w.join(",")}});case 7:n=e.sent,i=this.dealData(n.Datas,t),r=i.list,s=i.updateFlag,c=Object(u.a)(i,["list","updateFlag"]),this.setState({updateFlag:s,refreshTime:t,fundData:c}),this.sortList(r,"GSZZL","desc"),this.setTimer();case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sortList",value:function(e,t,a){var n,i=this.state[t],r=a||("desc"===i?"asc":"desc"),s=e;v.a.isEmpty(s)&&(s=this.state.funListData),this.setState((n={},Object(o.a)(n,t,r),Object(o.a)(n,"funListData",v.a.orderBy(s||[],(function(e){return Number(e[t])+1e5}),r)),n))}},{key:"dealData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a={ZRQRZSY:0,JRQRZSY:0,JRGSZSY:0,CCZSY:0,YGZSZ:0,CCZCB:0,updateFlag:-1},n=0,i=0;return a.list=e.map((function(e){var r=L[e.FCODE],s=0,o=0,l=0,C=0,u=0,m=0,F=!1;if(r){i+=1;var h=r.FCCFE,d=r.FCCCBDJ,f=e.NAV,S=e.NAVCHGRT,v=e.GSZ,R=e.GSZZL,p=e.PDATE;F=!0,u=B(d*h),m=B(f*h),0===t.indexOf(p)&&Number(S)&&Number(f)?(n+=1,l=B(S*m/100)):s=B(S*m/100),o=B(v*R*h/100),C=B(m-u)||0,a.ZRQRZSY+=Number(s),a.JRQRZSY+=Number(l),a.JRGSZSY+=Number(o),a.CCZSY+=Number(C),a.YGZSZ=B(a.YGZSZ+m),a.CCZCB=B(a.CCZCB+u)}return Object(c.a)(Object(c.a)({},e),{},{JRGSSY:o,JRQRSY:l,JRQRSYL:B(l/m*100),CCSY:C,CCSYL:B(C/u*100),CCZCB:u,CCZSZ:m,isHave:F})})),A(a),a.updateFlag=0===n?-1:n===i?1:0,a.ZRQRZSY=B(a.ZRQRZSY),a.JRQRZSY=B(a.JRQRZSY),a.JRGSZSY=B(a.JRGSZSY),a.CCZSY=B(a.CCZSY),a}},{key:"setTimer",value:function(){var e=this;this.timer=setTimeout((function(){E.a.start(),e.getFundListData(),E.a.done()}),5e3)}},{key:"clearTimer",value:function(){this.timer&&clearInterval(this.timer)}},{key:"resetTimer",value:function(){this.clearTimer(),this.setTimer()}},{key:"componentDidMount",value:function(){this.getFundListData()}},{key:"componentWillUnmount",value:function(){this.clearTimer()}},{key:"changeShowHave",value:function(){this.setState({onlyShowHave:!this.state.onlyShowHave})}},{key:"changeShowDetail",value:function(){this.setState({showDetail:!this.state.showDetail})}},{key:"printAll",value:function(){var e=this.state.fundData,t=e.CCZCB,a=e.YGZSZ;window.consoleInfo(),window.alert("\u6301\u4ed3\u603b\u6210\u672c\uff1a".concat(t,"<br/>\u9884\u4f30\u603b\u5e02\u503c\uff1a").concat(a))}},{key:"swtichNumber",value:function(){this.setState({showRate:!this.state.showRate})}},{key:"render",value:function(){var e=this.state,t=e.funListData,a=void 0===t?[]:t,n=e.fundData,r=void 0===n?{}:n,s=e.refreshTime,c=e.onlyShowHave,o=e.updateFlag,l=e.showDetail,C=e.showRate,u=r.CCZCB,m=r.CCZSY,F=r.YGZSZ,h=r.ZRQRZSY,d=r.JRQRZSY,f=r.JRGSZSY,S=Object.keys(L).length,v=B(m/u*100,2);return i.a.createElement("div",null,i.a.createElement("button",{className:"total-all",onClick:this.printAll.bind(this)},"\u603b\u8ba1"),i.a.createElement("button",{className:"total-all swtich-number",onClick:this.swtichNumber.bind(this)},"\u603b\u8ba1"),i.a.createElement("p",{className:"update-time"},"\u66f4\u65b0\u65f6\u95f4\uff1a",s),i.a.createElement("p",null,"\u6301\u4ed3\u6570\u91cf\uff1a",S),i.a.createElement("p",null,"\u6301\u4ed3\u6536\u76ca\uff1a",C?"".concat(v,"%"):m),i.a.createElement("p",null,"\u6628\u65e5\u786e\u8ba4\u603b\u6536\u76ca\uff1a",P(h,C,F)),i.a.createElement("p",null,"\u4eca\u65e5\u786e\u8ba4\u603b\u6536\u76ca\uff1a",P(d,C,F),function(e){var t=["\u66f4\u65b0\u4e2d","\u66f4\u65b0\u5b8c\u6210"];return t[e]?i.a.createElement("span",{className:"red"},"(",t[e],")"):""}(o)),i.a.createElement("p",null,"\u4eca\u65e5\u9884\u4f30\u603b\u6536\u76ca\uff1a",P(f,C,F)),i.a.createElement("div",{className:"operation-container"},i.a.createElement("button",{onClick:this.changeShowDetail.bind(this)},l?"\u9690\u85cf":"\u663e\u793a","\u8be6\u60c5"),i.a.createElement("button",{onClick:this.changeShowHave.bind(this)},c?"\u663e\u793a":"\u9690\u85cf","\u672a\u6301\u6709")),l&&i.a.createElement(k,{funds:a,onlyShowHave:c,showRate:C,updateFlag:o,sortList:this.sortList.bind(this)}))}}]),a}(i.a.Component);a(71),a(72);var j=function(){return i.a.createElement("div",{className:"content"},i.a.createElement(G,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[38,1,2]]]);
//# sourceMappingURL=main.e04cba6d.chunk.js.map